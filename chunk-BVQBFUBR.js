import{a as ee}from"./chunk-DW426GUH.js";import{b as Z}from"./chunk-IBNQCJO6.js";import{$ as H}from"./chunk-FKVLFZDL.js";import{a as Y}from"./chunk-LJQWLUAF.js";import{a as X}from"./chunk-I2MVR3CV.js";import"./chunk-OVORNNTG.js";import{b as W,c as b,e as z,f as P,j as J,l as K,m as O,o as Q,q as U}from"./chunk-KFXTHNAE.js";import"./chunk-7SMJ3EGY.js";import{b as $}from"./chunk-Q62EKAOT.js";import{j as R}from"./chunk-SEIKCEHD.js";import"./chunk-4YXAR673.js";import"./chunk-4YRY4IP2.js";import"./chunk-Y6NU3EL2.js";import"./chunk-JAK5WMHK.js";import"./chunk-ERJP7BH4.js";import{k as G,m as q}from"./chunk-EXZ2FE2D.js";import{Cc as A,Db as f,Gb as E,Jb as C,Lb as k,Mb as L,Nb as i,Ob as n,Pb as s,Tb as y,V as T,Wb as x,Xb as p,db as a,eb as w,gc as u,ia as D,ic as h,lc as F,mc as I,nc as N,pc as M,qc as g,rc as B,ta as m,ua as c,va as _,vb as V,wa as S,wc as j}from"./chunk-MB7SRDLP.js";var ne=()=>({width:"25rem"}),re=()=>({name:"Name",label:"Name",type:"text"}),oe=()=>({name:"Description",label:"Description",type:"text"}),le=()=>({name:"AddressInDetails",label:"Address In Details",type:"text"}),ae=()=>({name:"MapSearchText",label:"Map Search Text",type:"text"}),se=()=>({name:"Type",label:"Type (Integer) only 0 or 1 ",type:"number"}),ue=()=>({name:"VillageId",label:"Village ID (Integer)",type:"number"}),de=(r,o,e,t,l,d)=>[r,o,e,t,l,d],ie=r=>["/Admin/Dormitories/build-details",r],me=r=>({"border-red-500":r});function ce(r,o){if(r&1){let e=y();i(0,"div",9)(1,"div",18)(2,"div")(3,"div",19)(4,"h5",20),u(5),n(),s(6,"img",21),n(),i(7,"div",22)(8,"p"),u(9),n()()(),i(10,"div",23)(11,"button",24),x("click",function(){let l=m(e).$implicit,d=p();return c(d.confirmDelete(l.buildingId))}),s(12,"span",25),i(13,"span",26),s(14,"i",27),i(15,"span"),u(16,"Delete"),n()()(),i(17,"button",28),s(18,"span",29),_(),i(19,"svg",30),s(20,"path",31),n(),u(21," View Details "),n()()()()}if(r&2){let e=o.$implicit;a(5),h(" ",e.name," "),a(4),h("ADD: ",e.address,""),a(8),f("routerLink",B(3,ie,e.buildingId))}}function pe(r,o){if(r&1){let e=y();i(0,"div",9)(1,"div",18)(2,"div")(3,"div",19)(4,"h5",20),u(5),n(),s(6,"img",21),n(),i(7,"div",22)(8,"p"),u(9),n()()(),i(10,"div",23)(11,"button",24),x("click",function(){let l=m(e).$implicit,d=p();return c(d.confirmDelete(l.buildingId))}),s(12,"span",25),i(13,"span",26),s(14,"i",27),i(15,"span"),u(16,"Delete"),n()()(),i(17,"button",28),s(18,"span",29),_(),i(19,"svg",30),s(20,"path",31),n(),u(21," View Details "),n()()()()}if(r&2){let e=o.$implicit;a(5),h(" ",e.name," "),a(4),h("ADD: ",e.address,""),a(8),f("routerLink",B(3,ie,e.buildingId))}}function fe(r,o){if(r&1&&(i(0,"div",35),u(1),n()),r&2){let e=p().$implicit;a(),h(" ",e.label," is required. ")}}function ge(r,o){if(r&1&&(i(0,"div",17)(1,"label",32),u(2),n(),s(3,"input",33),V(4,fe,2,1,"div",34),n()),r&2){let e=o.$implicit,t=p();a(),f("for",e.name),a(),h(" ",e.label," "),a(),f("type",e.type)("id",e.name)("formControlName",e.name)("ngClass",B(7,me,t.f[e.name].invalid&&(t.f[e.name].dirty||t.f[e.name].touched))),a(),f("ngIf",t.f[e.name].invalid&&(t.f[e.name].dirty||t.f[e.name].touched))}}function be(r,o){if(r&1){let e=y();i(0,"button",36),x("click",function(){m(e);let l=p();return c(l.visible=!1)})("click",function(){m(e);let l=p();return c(l.form.reset())}),_(),i(1,"svg",37),s(2,"path",38),n(),S(),i(3,"span",39),u(4,"Cancel"),n()(),i(5,"button",40),x("click",function(){m(e);let l=p();return c(l.visible=!1)})("click",function(){m(e);let l=p();return c(l.onSubmit())}),_(),i(6,"svg",41),s(7,"path",42),n(),S(),i(8,"span",39),u(9,"Save"),n()()}}var te=class r{constructor(o,e,t,l){this.buildsListService=o;this.fb=e;this.CraetebuildService=t;this.ToastService=l;this.form=this.fb.group({Name:["",b.required],Description:["",b.required],AddressInDetails:["",b.required],MapSearchText:[""],Type:[null,[b.required,b.pattern("^[0-1]+$")]],VillageId:[null,[b.required,b.pattern("^[0-9]+$")]]}),this.buildsListService.GatAllBuilds().pipe(T(d=>{this.buildingsList=d.data,this.normalBuildings=this.buildingsList.filter(v=>v.type==="Normal"),this.hotelBuildings=this.buildingsList.filter(v=>v.type!=="Normal")})).subscribe()}visible=!1;form;buildingsList=[];normalBuildings=[];hotelBuildings=[];showDialog(){this.visible=!0}get f(){return this.form.controls}onSubmit(){if(this.form.valid){let o=new FormData;for(let e in this.form.value)o.append(e,this.form.value[e]);this.CraetebuildService.CreateBuild(o).subscribe({next:e=>{console.log("Building created successfully:",e),this.visible=!1,this.ToastService.success("Buildings",e.message),this.buildingsList.push(e.data),this.normalBuildings=this.buildingsList.filter(t=>t.type==="Normal"),this.hotelBuildings=this.buildingsList.filter(t=>t.type!=="Normal"),this.form.reset()},error:e=>{console.error("Error creating building:",e),this.ToastService.error("Buildings",e.message||"An error occurred while creating the building.")}})}else this.form.markAllAsTouched(),this.visible=!0}confirmDelete(o){this.CraetebuildService.DeleteBuild(o).subscribe({next:e=>{console.log("Building deleted successfully:",e),this.buildingsList=this.buildingsList.filter(t=>t.buildingId!==o),this.normalBuildings=this.buildingsList.filter(t=>t.type==="Normal"),this.hotelBuildings=this.buildingsList.filter(t=>t.type!=="Normal")}})}static \u0275fac=function(e){return new(e||r)(w(Y),w(Q),w(ee),w($))};static \u0275cmp=D({type:r,selectors:[["app-list"]],standalone:!0,features:[M],decls:28,vars:19,consts:[["footer",""],[1,"mx-3"],[1,"relative","inline-flex","items-center","justify-center","px-6","py-3","overflow-hidden","text-black","transition-all","duration-300","shadow-lg","cursor-pointer","bg-gradient-to-r","from-indigo-600","to-purple-600","rounded-xl","hover:shadow-xl","group","hover:from-purple-600","hover:to-indigo-600","focus:outline-none","focus:ring-4","focus:ring-indigo-300",3,"click"],[1,"absolute","inset-0","w-full","h-full","transition","duration-300","ease-out","transform","translate-x-full","bg-white","group-hover:translate-x-0","opacity-10"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","transition-transform","duration-300","transform","group-hover:rotate-90"],["stroke-linecap","round","stroke-linejoin","round","d","M12 4v16m8-8H4"],[1,"relative","z-10","text-sm","font-semibold","tracking-wide","uppercase"],[1,"text-center"],[1,"grid","grid-cols-3","lg:grid-cols-4","max-[430px]:grid-cols-1","xss:grid-cols-1","md:grid-cols-2","gap-y-0","gap-x-3"],[1,"p-2","rounded-lg","card","maincolor","hover:shadow-lg","hover:shadow-gray-500/50"],[1,"mt-10","text-center"],[1,"flex","justify-center","card"],[3,"visibleChange","visible","modal"],[1,"relative","inline-block","pb-2","text-2xl","font-bold","text-center","text-gray-800","dark:text-white"],[1,"text-center","text-transparent","bg-gradient-to-r","from-blue-500","via-purple-500","to-pink-500","bg-clip-text"],[1,"absolute","bottom-0","left-0","w-full","h-1","rounded","bg-gradient-to-r","from-blue-500","via-purple-500","to-pink-500"],[1,"max-w-3xl","p-8","mx-auto","space-y-6","bg-white","shadow-2xl","rounded-3xl",3,"ngSubmit","formGroup"],[1,"space-y-2"],[1,"flex","flex-col","justify-between","h-full","overflow-hidden","border","rounded-lg","shadow-md"],[1,"px-4","py-2","card-header"],[1,"text-lg","font-semibold","text-center","maintext"],["src","../assets/images/build.png","alt","Building image",1,"object-cover","w-full","mt-2","rounded-md"],[1,"px-4","py-2","card-body"],[1,"grid","w-full","grid-cols-1","gap-2","px-4","pb-4"],[1,"relative","inline-flex","items-center","justify-center","px-6","py-2","overflow-hidden","font-semibold","text-white","transition-transform","duration-300","ease-in-out","bg-red-600","rounded-full","shadow-lg","cursor-pointer","group","hover:scale-110","hover:-rotate-1","hover:bg-red-700","hover:shadow-red-500/50","focus:outline-none",3,"click"],[1,"absolute","inset-0","w-full","h-full","transition","duration-300","ease-out","scale-125","bg-red-500","opacity-0","group-hover:opacity-100","blur-sm"],[1,"relative","z-10","flex","items-center","space-x-2"],[1,"text-white","pi","pi-trash"],["type","button","aria-label","View Details",1,"relative","inline-flex","items-center","justify-center","px-6","py-3","overflow-hidden","font-semibold","text-white","transition-all","duration-300","ease-out","shadow-lg","cursor-pointer","group","bg-gradient-to-r","from-indigo-500","to-blue-600","rounded-xl","hover:shadow-xl","hover:from-indigo-600","hover:to-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","active:scale-95",3,"routerLink"],[1,"absolute","inset-0","w-full","h-full","transition","duration-500","ease-in-out","transform","scale-105","opacity-0","bg-gradient-to-br","from-blue-400","to-indigo-600","group-hover:opacity-20"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5","mr-2","text-white","transition-transform","duration-300","group-hover:translate-x-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12H3m0 0l4-4m-4 4l4 4m13-4h-6"],[1,"block","text-sm","font-bold","text-gray-700",3,"for"],[1,"w-full","px-4","py-3","transition","duration-300","border","border-gray-300","rounded-xl","focus:outline-none","focus:ring-2","focus:ring-indigo-500",3,"type","id","formControlName","ngClass"],["class","text-sm text-red-500",4,"ngIf"],[1,"text-sm","text-red-500"],[1,"inline-flex","items-center","justify-center","px-6","py-3","text-gray-700","transition","duration-200","ease-in-out","bg-gray-200","shadow-sm","cursor-pointer","hover:bg-gray-300","rounded-xl","focus:outline-none","focus:ring-2","focus:ring-gray-400",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-gray-600","transition-transform","duration-300","transform","group-hover:scale-110"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],[1,"text-sm","font-semibold","tracking-wide","uppercase"],["type","submit",1,"relative","inline-flex","items-center","justify-center","px-6","py-3","text-white","transition","duration-300","ease-in-out","shadow-md","cursor-pointer","rounded-xl","hover:shadow-lg","group","focus:outline-none","focus:ring-4","focus:ring-blue-300",2,"background-color","#012a5b",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","transition-transform","duration-300","transform","group-hover:scale-110"],["stroke-linecap","round","stroke-linejoin","round","d","M5 13l4 4L19 7"]],template:function(e,t){if(e&1){let l=y();i(0,"section",1)(1,"button",2),x("click",function(){return m(l),c(t.showDialog())}),s(2,"span",3),_(),i(3,"svg",4),s(4,"path",5),n(),S(),i(5,"span",6),u(6," Create "),n()(),i(7,"h3",7),u(8,"Normal Builds - \u0627\u0644\u0633\u0643\u0646 \u0627\u0644\u0637\u0644\u0627\u0628\u064A \u0627\u0644\u0639\u0627\u062F\u064A"),n(),i(9,"div",8),k(10,ce,22,5,"div",9,C),n(),i(12,"h3",10),u(13,"Hotel Builds - \u0627\u0644\u0633\u0643\u0646 \u0627\u0644\u0641\u0646\u062F\u0642\u064A"),n(),i(14,"div",8),k(15,pe,22,5,"div",9,C),n()(),i(17,"div",11)(18,"p-dialog",12),N("visibleChange",function(v){return m(l),I(t.visible,v)||(t.visible=v),c(v)}),i(19,"h3",13)(20,"span",14),u(21," Fill the form to create build "),n(),s(22,"span",15),n(),i(23,"form",16),x("ngSubmit",function(){return m(l),c(t.onSubmit())}),k(24,ge,5,9,"div",17,C),n(),V(26,be,10,0,"ng-template",null,0,A),n()()}e&2&&(a(10),L(t.normalBuildings),a(5),L(t.hotelBuildings),a(3),E(g(5,ne)),F("visible",t.visible),f("modal",!0),a(5),f("formGroup",t.form),a(),L(j(12,de,g(6,re),g(7,oe),g(8,le),g(9,ae),g(10,se),g(11,ue))))},dependencies:[H,X,R,Z,U,J,W,z,P,K,O,G,q]})};export{te as ListComponent};
