import{a as A}from"./chunk-7V6ATNCQ.js";import{_ as F}from"./chunk-OM35ESNH.js";import{b as w}from"./chunk-NOW5ADOY.js";import"./chunk-MQ2M5JP6.js";import{$a as C,Bb as c,C as y,Db as p,Eb as m,Fb as n,Gb as r,Hb as g,N as B,V as a,Xb as o,Yb as h,Z as E,Zb as v,_a as s,da as L,ec as I,g as b,gc as f,ha as S,o as x,vb as u}from"./chunk-GPZO63VO.js";var d=class i{http=L(w);cache=new Map;buildsUrl=`${A.apiUrl}buildings/List`;GatAllBuilds(){return this.http.get(this.buildsUrl)}GetBuildsList(){return this.cache.has(this.buildsUrl)?(console.log("Returning cached buildings list"),new b(t=>{t.next(this.cache.get(this.buildsUrl)?.body),t.complete()})):this.http.get(this.buildsUrl,{observe:"response"}).pipe(B(2),a(t=>{this.cache.set(this.buildsUrl,t)}),y(this.handleError))}clearCache(){this.cache.clear(),console.log("Buildings list cache cleared")}handleError(t){console.error("Error fetching buildings list:",t);let e="Something went wrong! Please try again later.";return t.error instanceof ErrorEvent?e=`Client-side error: ${t.error.message}`:e=`Server-side error: ${t.status} - ${t.message}`,x(()=>new Error(e))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=E({token:i,factory:i.\u0275fac,providedIn:"root"})};var k=i=>["/Admin/Dormitories/build-details",i];function H(i,t){if(i&1&&(n(0,"div",3)(1,"div",5)(2,"h5",6),o(3),r(),g(4,"img",7),r(),n(5,"div",8)(6,"p"),o(7),r()()()),i&2){let e=t.$implicit;u("routerLink",f(3,k,e.buildingId)),s(3),h(e.name),s(4),v("ADD: ",e.address,"")}}function R(i,t){if(i&1&&(n(0,"div",3)(1,"div",5)(2,"h5",6),o(3),r(),g(4,"img",7),r(),n(5,"div",8)(6,"p"),o(7),r()()()),i&2){let e=t.$implicit;u("routerLink",f(3,k,e.buildingId)),s(3),h(e.name),s(4),v("ADD: ",e.address,"")}}var D=class i{constructor(t){this.buildsListService=t;this.buildsListService.GatAllBuilds().pipe(a(e=>{this.buildingsList=e.data,this.normalBuildings=this.buildingsList.filter(l=>l.type==="Normal"),this.hotelBuildings=this.buildingsList.filter(l=>l.type!=="Normal")})).subscribe()}buildingsList=[];normalBuildings=[];hotelBuildings=[];static \u0275fac=function(e){return new(e||i)(C(d))};static \u0275cmp=S({type:i,selectors:[["app-list"]],standalone:!0,features:[I],decls:11,vars:0,consts:[[1,"mx-3"],[1,"text-center"],[1,"grid","grid-cols-3","lg:grid-cols-4","max-[430px]:grid-cols-1","xss:grid-cols-1","md:grid-cols-2","gap-y-0","gap-x-3"],[1,"p-2","rounded-lg","cursor-pointer","card","maincolor","hover:shadow-lg","hover:shadow-gray-500/50",3,"routerLink"],[1,"mt-10","text-center"],[1,"card-header"],[1,"text-center","maintext"],["src","../assets/images/build.png","alt","",1,"w-full"],[1,"card-body"]],template:function(e,l){e&1&&(n(0,"section",0)(1,"h3",1),o(2,"Normal Builds - \u0627\u0644\u0633\u0643\u0646 \u0627\u0644\u0637\u0644\u0627\u0628\u064A \u0627\u0644\u0639\u0627\u062F\u064A"),r(),n(3,"div",2),p(4,H,8,5,"div",3,c),r(),n(6,"h3",4),o(7,"Hotel Builds - \u0627\u0644\u0633\u0643\u0646 \u0627\u0644\u0641\u0646\u062F\u0642\u064A"),r(),n(8,"div",2),p(9,R,8,5,"div",3,c),r()()),e&2&&(s(4),m(l.normalBuildings),s(5),m(l.hotelBuildings))},dependencies:[F]})};export{D as ListComponent};
