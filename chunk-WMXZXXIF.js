import{a as me}from"./chunk-CEPYBMUH.js";import{b as ae}from"./chunk-DBCG6UXE.js";import{b as se}from"./chunk-VSNHGMPS.js";import{a as J}from"./chunk-2AZPGOL2.js";import{b as K}from"./chunk-FRIMTKRW.js";import{b as le}from"./chunk-IBNQCJO6.js";import{_ as W}from"./chunk-FKVLFZDL.js";import{a as ne}from"./chunk-I2MVR3CV.js";import"./chunk-OVORNNTG.js";import{b as X,c as d,e as Y,f as Z,j as ee,l as te,m as ie,o as re,q as oe}from"./chunk-KFXTHNAE.js";import"./chunk-7SMJ3EGY.js";import{b as O}from"./chunk-Q62EKAOT.js";import{g as U,h as $,j as z}from"./chunk-SEIKCEHD.js";import"./chunk-4YXAR673.js";import"./chunk-4YRY4IP2.js";import"./chunk-Y6NU3EL2.js";import"./chunk-JAK5WMHK.js";import"./chunk-ERJP7BH4.js";import{k as Q,m as H}from"./chunk-EXZ2FE2D.js";import{Cc as P,Db as y,Gb as V,Jb as S,Lb as C,Mb as k,Nb as i,Ob as o,Pb as m,Tb as E,Wb as f,Xb as u,ac as I,bc as F,cc as L,db as s,eb as _,gc as a,ia as T,ic as x,kc as M,lc as j,mc as B,nc as G,pc as A,qc as R,rc as q,ta as p,ua as c,va as h,vb as g,wa as b,yb as N,zb as D}from"./chunk-MB7SRDLP.js";var ce=["complexDiv"],ue=()=>[$],de=()=>({width:"25rem"}),fe=l=>({"border-red-500":l});function xe(l,r){if(l&1){let e=E();i(0,"div",15)(1,"div",16,1)(3,"div",17)(4,"span",18),a(5),o()(),i(6,"h3",19),a(7),o(),i(8,"p",20),m(9,"i",21),a(10),o(),i(11,"p",20),m(12,"i",22),a(13),o(),i(14,"p",20),m(15,"i",23),a(16),o()(),i(17,"div",16,1)(19,"div",24)(20,"button",25),f("click",function(){let n=p(e).$implicit,v=u(2);return c(v.deleteEmployee(n.employeeId))}),m(21,"span",26),i(22,"span",27),m(23,"i",28),i(24,"span"),a(25,"Delete"),o()()(),i(26,"button",29),f("click",function(){let n=p(e).$implicit,v=u(2);return c(v.GetEmployeeDetails(n.employeeId))}),o()()()()}if(l&2){let e=r.$implicit;s(5),x(" ID: ",e.employeeId," "),s(2),M(" ",e.firstName," ",e.secondName," ",e.thirdName," ",e.fourthName," "),s(3),x("",e.userName," "),s(3),x("",e.email," "),s(3),x("",e.phoneNumber," ")}}function ve(l,r){if(l&1&&C(0,xe,27,8,"div",15,S),l&2){let e=u();k(e.employees)}}function ye(l,r){if(l&1&&(i(0,"div",33),a(1),o()),l&2){let e=u().$implicit;s(),x(" ",e.label," is required. ")}}function _e(l,r){if(l&1&&(i(0,"div",14)(1,"label",30),a(2),o(),m(3,"input",31),g(4,ye,2,1,"div",32),o()),l&2){let e=r.$implicit,t=u();s(),y("for",e.name),s(),x(" ",e.label," "),s(),y("type",e.type)("id",e.name)("formControlName",e.name)("ngClass",q(7,fe,t.f[e.name].invalid&&(t.f[e.name].dirty||t.f[e.name].touched))),s(),y("ngIf",t.f[e.name].invalid&&(t.f[e.name].dirty||t.f[e.name].touched))}}function he(l,r){if(l&1){let e=E();i(0,"button",34),f("click",function(){p(e);let n=u();return c(n.visible=!1)})("click",function(){p(e);let n=u();return c(n.form.reset())}),h(),i(1,"svg",35),m(2,"path",36),o(),b(),i(3,"span",37),a(4,"Cancel"),o()(),i(5,"button",38),f("click",function(){p(e);let n=u();return c(n.visible=!1)})("click",function(){p(e);let n=u();return c(n.onSubmit())}),h(),i(6,"svg",39),m(7,"path",40),o(),b(),i(8,"span",37),a(9,"Save"),o()()}}var pe=class l{constructor(r,e,t,n){this.EmpService=r;this.ToastService=e;this.fb=t;this.Router=n;this.form=this.fb.group({FirstName:["",d.required],SecondName:["",d.required],ThirdName:["",d.required],FourthName:["",d.required],UserName:["",d.required],Email:["",[d.required,d.email]],PhoneNumber:["",d.required]})}complexDiv;visible=!1;form;employees=[];fields=[{name:"FirstName",label:"First Name",type:"text"},{name:"SecondName",label:"Second Name",type:"text"},{name:"ThirdName",label:"Third Name",type:"text"},{name:"FourthName",label:"Fourth Name",type:"text"},{name:"UserName",label:"Username",type:"text"},{name:"Email",label:"Email",type:"email"},{name:"PhoneNumber",label:"Phone Number",type:"text"}];ngOnInit(){this.EmpService.GetAllEmployees(1,10,"").subscribe({next:r=>{this.ToastService.success("Employees","Employees loaded successfully"),this.employees=r.data}})}ngAfterViewInit(){this.complexDiv.changes.subscribe(()=>{J(this.complexDiv,.9)})}get f(){return this.form.controls}deleteEmployee(r){this.EmpService.DeleteEmployee(r).subscribe({next:e=>{this.ToastService.success("Employees","Employee deleted successfully"),this.employees=this.employees.filter(t=>t.employeeId!==r)},error:e=>{this.ToastService.error("Employees","Failed to delete employee")}})}GetEmployeeDetails(r){this.EmpService.GetEmployeeById(r).subscribe({next:e=>{this.ToastService.success("Employees","Employee details loaded successfully"),console.log("Employee details:",e)},error:e=>{this.ToastService.error("Employees","Failed to load employee details")}}),this.Router.navigate(["/Admin/Employees/employees-Details",r])}showDialog(){this.visible=!0}onSubmit(){if(this.form.valid){let r=new FormData;for(let e in this.form.value)r.append(e,this.form.value[e]);this.EmpService.AddEmployee(r).subscribe({next:e=>{this.ToastService.success("Employees",e.message),this.employees.push(e.data),this.visible=!1,this.form.reset()},error:e=>{console.error("Error creating Employee:",e)}})}else this.form.markAllAsTouched(),this.visible=!0}confirmDelete(r){this.EmpService.DeleteEmployee(r).subscribe({next:e=>{this.employees=this.employees.filter(t=>t.employeeId!==r)}})}static \u0275fac=function(e){return new(e||l)(_(me),_(O),_(re),_(W))};static \u0275cmp=T({type:l,selectors:[["app-emp-list"]],viewQuery:function(e,t){if(e&1&&I(ce,5),e&2){let n;F(n=L())&&(t.complexDiv=n)}},standalone:!0,features:[A],decls:21,vars:7,consts:[["footer",""],["complexDiv",""],[1,"mx-3"],[1,"relative","inline-flex","items-center","justify-center","px-6","py-3","overflow-hidden","text-black","transition-all","duration-300","shadow-lg","cursor-pointer","bg-gradient-to-r","from-indigo-600","to-purple-600","rounded-xl","hover:shadow-xl","group","hover:from-purple-600","hover:to-indigo-600","focus:outline-none","focus:ring-4","focus:ring-indigo-300",3,"click"],[1,"absolute","inset-0","w-full","h-full","transition","duration-300","ease-out","transform","translate-x-full","bg-white","group-hover:translate-x-0","opacity-10"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","transition-transform","duration-300","transform","group-hover:rotate-90"],["stroke-linecap","round","stroke-linejoin","round","d","M12 4v16m8-8H4"],[1,"relative","z-10","text-sm","font-semibold","tracking-wide","uppercase"],[1,"p-4"],[1,"mb-4","text-2xl","font-bold","text-center","text-indigo-700"],[1,"grid","gap-6","md:grid-cols-2","lg:grid-cols-4"],[1,"flex","justify-center","card"],[3,"visibleChange","visible","modal"],[1,"max-w-3xl","p-8","mx-auto","space-y-6","bg-white","shadow-2xl","rounded-3xl",3,"ngSubmit","formGroup"],[1,"space-y-2"],[1,"flex","flex-col","justify-between","overflow-hidden","transition","duration-300","ease-in-out","bg-white","border","border-gray-200","shadow-lg","rounded-2xl","hover:shadow-sky-900","hover:shadow-2xl"],[1,"p-6","space-y-2"],[1,"flex","items-center","space-x-3"],[1,"px-3","py-1","text-sm","font-semibold","text-indigo-700","bg-indigo-100","rounded-full"],[1,"text-xl","font-semibold","text-gray-800"],[1,"flex","items-center","text-sm","text-gray-600"],[1,"mr-2","text-indigo-500","pi","pi-user"],[1,"mr-2","text-green-500","pi","pi-envelope"],[1,"mr-2","text-blue-500","pi","pi-phone"],[1,"flex","flex-col","justify-between","w-full","pt-3"],[1,"relative","inline-flex","items-center","justify-center","w-full","px-6","py-2","mb-2","overflow-hidden","font-semibold","text-white","transition-transform","duration-300","ease-in-out","bg-red-600","rounded-full","shadow-lg","cursor-pointer","group","hover:scale-110","hover:-rotate-1","hover:bg-red-700","hover:shadow-red-500/50","focus:outline-none",3,"click"],[1,"absolute","inset-0","w-full","h-full","transition","duration-300","ease-out","scale-125","bg-red-500","opacity-0","group-hover:opacity-100","blur-sm"],[1,"relative","z-10","flex","items-center","space-x-2"],[1,"text-white","pi","pi-trash"],["pButton","","type","button","label","View Profile","icon","pi pi-eye",1,"w-full","p-button-sm","p-button-rounded","p-button-outlined","p-button-info",3,"click"],[1,"block","text-sm","font-bold","text-gray-700",3,"for"],[1,"w-full","px-4","py-3","transition","duration-300","border","border-gray-300","rounded-xl","focus:outline-none","focus:ring-2","focus:ring-indigo-500",3,"type","id","formControlName","ngClass"],["class","text-sm text-red-500",4,"ngIf"],[1,"text-sm","text-red-500"],[1,"inline-flex","items-center","justify-center","px-6","py-3","text-gray-700","transition","duration-200","ease-in-out","bg-gray-200","shadow-sm","cursor-pointer","hover:bg-gray-300","rounded-xl","focus:outline-none","focus:ring-2","focus:ring-gray-400",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","text-gray-600","transition-transform","duration-300","transform","group-hover:scale-110"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],[1,"text-sm","font-semibold","tracking-wide","uppercase"],["type","submit",1,"relative","inline-flex","items-center","justify-center","px-6","py-3","text-white","transition","duration-300","ease-in-out","shadow-md","cursor-pointer","rounded-xl","hover:shadow-lg","group","focus:outline-none","focus:ring-4","focus:ring-blue-300",2,"background-color","#012a5b",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","transition-transform","duration-300","transform","group-hover:scale-110"],["stroke-linecap","round","stroke-linejoin","round","d","M5 13l4 4L19 7"]],template:function(e,t){if(e&1){let n=E();i(0,"section",2)(1,"button",3),f("click",function(){return p(n),c(t.showDialog())}),m(2,"span",4),h(),i(3,"svg",5),m(4,"path",6),o(),b(),i(5,"span",7),a(6," Create "),o()(),i(7,"div",8)(8,"h2",9),a(9," Employee Directory "),o(),i(10,"div",10),g(11,ve,2,0),N(12,11,ue),o()()(),i(14,"div",11)(15,"p-dialog",12),G("visibleChange",function(w){return p(n),B(t.visible,w)||(t.visible=w),c(w)}),i(16,"form",13),f("ngSubmit",function(){return p(n),c(t.onSubmit())}),C(17,_e,5,9,"div",14,S),o(),g(19,he,10,0,"ng-template",null,0,P),o()()}e&2&&(s(12),D(t.employees),s(3),V(R(6,de)),j("visible",t.visible),y("modal",!0),s(),y("formGroup",t.form),s(),k(t.fields))},dependencies:[z,U,Q,H,se,ne,ae,K,le,oe,ee,X,Y,Z,te,ie]})};export{pe as EmpListComponent};
