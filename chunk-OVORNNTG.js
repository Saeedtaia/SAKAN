import{ha as H,n as f,r as l,u as h,x as E}from"./chunk-JAK5WMHK.js";import{d as b,v as o}from"./chunk-EXZ2FE2D.js";import{Ma as u,Wc as F,ea as a,ka as d,qb as m,sa as r,sb as p,xa as c}from"./chunk-MB7SRDLP.js";var A=(()=>{class s extends H{pFocusTrapDisabled=!1;platformId=a(u);document=a(b);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){super.ngOnInit(),o(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(e){super.ngOnChanges(e),e.pFocusTrapDisabled&&o(this.platformId)&&(e.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(e){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${e??""}`}createHiddenFocusableElements(){let e="0",n=t=>f("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:e,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:t?.bind(this)});this.firstHiddenFocusableElement=n(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=n(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.el.nativeElement.prepend(this.firstHiddenFocusableElement),this.el.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(e){let{currentTarget:n,relatedTarget:t}=e,i=t===this.lastHiddenFocusableElement||!this.el.nativeElement?.contains(t)?h(n.parentElement,":not(.p-hidden-focusable)"):this.lastHiddenFocusableElement;l(i)}onLastHiddenElementFocus(e){let{currentTarget:n,relatedTarget:t}=e,i=t===this.firstHiddenFocusableElement||!this.el.nativeElement?.contains(t)?E(n.parentElement,":not(.p-hidden-focusable)"):this.firstHiddenFocusableElement;l(i)}static \u0275fac=(()=>{let e;return function(t){return(e||(e=c(s)))(t||s)}})();static \u0275dir=d({type:s,selectors:[["","pFocusTrap",""]],inputs:{pFocusTrapDisabled:[2,"pFocusTrapDisabled","pFocusTrapDisabled",F]},standalone:!0,features:[p,m,r]})}return s})();export{A as a};
