import{a as B}from"./chunk-7V6ATNCQ.js";import{K as z,c as m}from"./chunk-YUKZR6PQ.js";import{c as T}from"./chunk-ESWRY66D.js";import"./chunk-ZQ5ZT3ZM.js";import{Db as y,Ib as n,Jb as a,Kb as S,Sb as I,Wa as b,Z as f,ab as o,ac as r,bb as l,bc as p,cc as s,da as x,ha as g,jc as C,ka as v,qb as h,tc as w,uc as E,yb as D}from"./chunk-N7GQXRRL.js";var d=class i{constructor(t){this.sanitizer=t}transform(t){if(!t)return"";let e=t.replace(/\\/g,"");return e=e.replace(/width="[^"]*"/g,""),e=e.replace(/height="[^"]*"/g,""),e=e.replace(/<iframe([^>]*)>/,'<iframe class="w-full h-full"$1>'),this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(e){return new(e||i)(l(m,16))};static \u0275pipe=v({name:"removeBackslashes",type:i,pure:!0,standalone:!0})};var u=class i{http=x(T);constructor(){}getBuildDetailsById(t){return this.http.get(`${B.apiUrl}buildings/${t}`)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=f({token:i,factory:i.\u0275fac,providedIn:"root"})};function M(i,t){if(i&1&&(n(0,"section",0)(1,"div",2)(2,"div",3)(3,"h2",4),r(4),a(),n(5,"span",5),r(6),a()(),n(7,"p",6),r(8),a(),n(9,"div",7)(10,"div",8)(11,"h4",9),r(12,"\u{1F4CD} \u0627\u0644\u0639\u0646\u0648\u0627\u0646:"),a(),n(13,"p",10),r(14),a()(),n(15,"div")(16,"h4",9),r(17,"\u{1F3D8}\uFE0F \u0627\u0644\u0642\u0631\u064A\u0629:"),a(),n(18,"p",10),r(19),a()()(),n(20,"div",11)(21,"div",12),S(22,"div",13),w(23,"removeBackslashes"),a()()()()),i&2){let e=I();o(4),s("\u{1F3E2} ",e.details.name,""),o(2),s(" \u0646\u0648\u0639: ",e.details.type," "),o(2),s(" ",e.details.description," "),o(6),p(e.details.address),o(5),p(e.details.villageName),o(3),D("innerHTML",E(23,6,e.details.mapSearchText),b)}}function P(i,t){i&1&&(n(0,"div",1)(1,"div",14),r(2," \u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644... "),a()())}var H=class i{constructor(t,e,c){this.route=t;this.builddetails=e;this.sanitizer=c}buildingId;details;loading=!0;safeMapHtml;ngOnInit(){this.buildingId=+this.route.snapshot.paramMap.get("buildId"),this.builddetails.getBuildDetailsById(this.buildingId).subscribe(t=>{this.details=t.data,this.loading=!1,this.details&&(this.safeMapHtml=this.sanitizer.bypassSecurityTrustHtml(this.details.mapSearchText.replace(/\\/g,"")))},t=>{console.error("Error fetching building details:",t),this.loading=!1})}static \u0275fac=function(e){return new(e||i)(l(z),l(u),l(m))};static \u0275cmp=g({type:i,selectors:[["app-details"]],standalone:!0,features:[C],decls:2,vars:1,consts:[[1,"mx-3"],[1,"flex","items-center","justify-center","min-h-[500px]"],[1,"p-6","mx-auto","mt-10","bg-white","shadow-2xl","rounded-2xl","animate-fade-in"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-3xl","font-bold","text-indigo-700"],[1,"px-4","py-1","text-sm","font-semibold","text-indigo-600","bg-indigo-100","rounded-full"],[1,"mb-4","text-lg","text-gray-700"],[1,"flex","flex-col","mb-6","md:flex-row","md:items-center","md:justify-between"],[1,"mb-4","md:mb-0"],[1,"font-semibold","text-gray-600","text-md"],[1,"text-gray-800"],[1,"mt-6","overflow-hidden","border","border-gray-200","shadow-lg","rounded-xl"],[1,"w-full","h-[400px]"],[1,"w-full","h-full",3,"innerHTML"],[1,"text-xl","font-semibold","text-indigo-600","animate-pulse"]],template:function(e,c){e&1&&h(0,M,24,8,"section",0)(1,P,3,0,"div",1),e&2&&y(c.loading?1:0)},dependencies:[d]})};export{H as DetailsComponent};
